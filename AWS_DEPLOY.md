# â˜ï¸ AWS EC2 ë´‡ ë°°í¬ ê°€ì´ë“œ

ì´ ê°€ì´ë“œëŠ” `MonsterBot`ê³¼ `binance_bot`ì„ AWS EC2(Ubuntu)ì—ì„œ 24ì‹œê°„ ì‹¤í–‰í•˜ê¸° ìœ„í•œ ë‹¨ê³„ë³„ ì„¤ëª…ì„œì…ë‹ˆë‹¤.

---

## 1. AWS EC2 ì¸ìŠ¤í„´ìŠ¤ ìƒì„± ë° ì ‘ì†

1.  **AWS ì½˜ì†” ë¡œê·¸ì¸**: [AWS Console](https://console.aws.amazon.com/)
2.  **EC2 ì¸ìŠ¤í„´ìŠ¤ ì‹œì‘**:
    *   **OS**: Ubuntu Server 22.04 LTS (ê¶Œì¥)
    *   **ì¸ìŠ¤í„´ìŠ¤ ìœ í˜•**: `t3.micro` ë˜ëŠ” `t2.micro` ì„ íƒ
        *   ğŸ’¡ **íŒ**: ë“œë¡­ë‹¤ìš´ ë©”ë‰´ì—ì„œ ì¸ìŠ¤í„´ìŠ¤ ì´ë¦„ ì˜†ì— **'í”„ë¦¬ í‹°ì–´ ì‚¬ìš© ê°€ëŠ¥' (Free tier eligible)** ë±ƒì§€ê°€ ë¶™ì–´ìˆëŠ”ì§€ ê¼­ í™•ì¸í•˜ì„¸ìš”!
        *   ëŒ€ë¶€ë¶„ì˜ ì‹ ê·œ ê³„ì •ì€ 1ë…„ê°„ `t2.micro` ë˜ëŠ” `t3.micro`ë¥¼ ì›” 750ì‹œê°„ ë¬´ë£Œë¡œ ì“¸ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
    *   **í‚¤ í˜ì–´ (ë¡œê·¸ì¸)**:
        1.  ìš°ì¸¡ì˜ **'ìƒˆ í‚¤ í˜ì–´ ìƒì„±'** (Create new key pair) ë§í¬ë¥¼ í´ë¦­í•˜ì„¸ìš”.
        2.  **í‚¤ í˜ì–´ ì´ë¦„**: ì›í•˜ëŠ” ì´ë¦„ ì…ë ¥ (ì˜ˆ: `bitcoin-key`)
        3.  **í‚¤ í˜ì–´ ìœ í˜•**: `RSA` ì„ íƒ
        4.  **í”„ë¼ì´ë¹— í‚¤ íŒŒì¼ í˜•ì‹**: `.pem` ì„ íƒ (Termius, Mac, Linuxìš©)
        5.  **'í‚¤ í˜ì–´ ìƒì„±'** ë²„íŠ¼ í´ë¦­ -> íŒŒì¼ì´ ìë™ìœ¼ë¡œ ë‹¤ìš´ë¡œë“œë©ë‹ˆë‹¤.
        6.  ğŸ“Œ **ì£¼ì˜**: ì´ íŒŒì¼ì€ ë‹¤ì‹œ ë°›ì„ ìˆ˜ ì—†ìœ¼ë‹ˆ ì˜ ë³´ê´€í•˜ì„¸ìš”!
    *   **ë³´ì•ˆ ê·¸ë£¹**: SSH(22) í¬íŠ¸ ì—´ë ¤ìˆëŠ”ì§€ í™•ì¸
3.  **ì ‘ì† (Termius ì‚¬ìš© ë°©ë²•)**:
    *   Termius ì•± ì‹¤í–‰ í›„ **'New Host'** í´ë¦­
    *   **Address**: AWS ì½˜ì†”ì— ìˆëŠ” `í¼ë¸”ë¦­ IPv4 ì£¼ì†Œ` ë³µì‚¬í•´ì„œ ë¶™ì—¬ë„£ê¸° (ì˜ˆ: `3.12.34.56`)
    *   **Username**: `ubuntu` ì…ë ¥ (ì†Œë¬¸ì í•„ìˆ˜)
    *   **Password**: ë¹„ì›Œë‘ì„¸ìš”.
    *   **Key (Keys)**:
        1.  ì…ë ¥ì°½ ì˜†ì˜ `Key` ì•„ì´ì½˜ì´ë‚˜ `Set a Key` í´ë¦­
        2.  `+ New` -> `Import from file`
        3.  ë‹¤ìš´ë¡œë“œ ë°›ì•˜ë˜ `.pem` íŒŒì¼ ì„ íƒ
        4.  Save í•˜ê³  í•´ë‹¹ í‚¤ë¥¼ ì„ íƒ
    *   ì˜¤ë¥¸ìª½ ìœ„ì˜ **Connect** (ë˜ëŠ” ë”ë¸”í´ë¦­) í•˜ì—¬ ì ‘ì†!

---

## 2. ì„œë²„ ê¸°ë³¸ ì„¤ì • (í•œ ë²ˆë§Œ ì‹¤í–‰)

ì„œë²„ì— ì ‘ì†í•œ í›„, ë‹¤ìŒ ëª…ë ¹ì–´ë“¤ì„ ë³µì‚¬í•´ì„œ ë¶™ì—¬ë„£ìœ¼ì„¸ìš”. ë´‡ì„ ëŒë¦¬ê¸° ìœ„í•œ í•„ìˆ˜ í”„ë¡œê·¸ë¨ë“¤ì„ ì„¤ì¹˜í•©ë‹ˆë‹¤.

```bash
# 1. íŒ¨í‚¤ì§€ ëª©ë¡ ì—…ë°ì´íŠ¸ ë° í•„ìˆ˜ ë„êµ¬ ì„¤ì¹˜
sudo apt update && sudo apt upgrade -y
sudo apt install python3-pip python3-venv git -y

# 2. Node.js & PM2 ì„¤ì¹˜ (ë´‡ ê´€ë¦¬ ë„êµ¬)
curl -fsSL https://deb.nodesource.com/setup_18.x | sudo -E bash -
sudo apt install -y nodejs
sudo npm install pm2 -g
```

---

## 3. ì½”ë“œ ë‹¤ìš´ë¡œë“œ ë° ì„¤ì •

### 3-1. í”„ë¡œì íŠ¸ ë³µì‚¬ (Clone)
ê¹ƒí—ˆë¸Œì—ì„œ ì½”ë“œë¥¼ ë°›ì•„ì˜µë‹ˆë‹¤. (ì£¼ì†Œê°€ ë‹¤ë¥´ë©´ ë³¸ì¸ ë ˆí¬ì§€í† ë¦¬ ì£¼ì†Œë¡œ ë³€ê²½í•˜ì„¸ìš”)

```bash
# ì˜ˆì‹œ (ë³¸ì¸ ë ˆí¬ ì£¼ì†Œë¡œ ë³€ê²½ í•„ìš”!)
git clone https://github.com/ì‚¬ìš©ìëª…/bitcoin-main.git

# í´ë” ì•ˆìœ¼ë¡œ ì´ë™
cd bitcoin-main
```

### 3-2. ê°€ìƒí™˜ê²½ ì„¸íŒ… ë° íŒ¨í‚¤ì§€ ì„¤ì¹˜
ê° ë´‡ í´ë”ì— ë“¤ì–´ê°€ì„œ í•„ìš”í•œ ë„ì„œê´€(ë¼ì´ë¸ŒëŸ¬ë¦¬)ì„ ì„¤ì¹˜í•©ë‹ˆë‹¤.

#### MonsterBot ì„¸íŒ…
```bash
cd MonsterBot
# ê°€ìƒí™˜ê²½ ì‚¬ìš© ì•ˆ í•¨ (í¸ì˜ìƒ ì „ì—­ ì„¤ì¹˜ ë˜ëŠ” --break-system-packages ì‚¬ìš©)
# í˜¹ì€ ê°€ìƒí™˜ê²½ ìƒì„± ê¶Œì¥
pip3 install -r requirements.txt
cd ..
```
*Tip: ìµœì‹  ìš°ë¶„íˆ¬ì—ì„œëŠ” `pip install` ì‹œ ì—ëŸ¬ê°€ ë‚  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì—ëŸ¬ê°€ ë‚˜ë©´ `sudo apt install python3-xxxx`ë¡œ ì„¤ì¹˜í•˜ê±°ë‚˜ ê°€ìƒí™˜ê²½ì„ ë§Œë“¤ì–´ì•¼ í•©ë‹ˆë‹¤. ê°€ì¥ ì‰¬ìš´ ë°©ë²•:*

```bash
# ê·¸ëƒ¥ ì „ì—­ìœ¼ë¡œ í•„ìš”í•œê±° ë‹¤ ê¹”ì•„ë²„ë¦¬ê¸° (ê°„í¸í•¨)
pip3 install ccxt pandas pandas_ta python-dotenv pyyaml optuna termcolor python-telegram-bot streamlit plotly websocket-client --break-system-packages
```

---

## 4. ë´‡ ì‹¤í–‰ (PM2 ì‚¬ìš©)

PM2ë¥¼ ì‚¬ìš©í•˜ë©´ ë´‡ì´ ì—ëŸ¬ë¡œ êº¼ì ¸ë„ ìë™ìœ¼ë¡œ ë‹¤ì‹œ ì¼œì£¼ê³ , ë¡œê·¸ë„ ê´€ë¦¬í•´ì¤ë‹ˆë‹¤.

### MonsterBot ì‹¤í–‰
```bash
cd ~/bitcoin-main/MonsterBot

# ì‹¤í–‰
pm2 start ecosystem.config.js

# ë¡œê·¸ í™•ì¸
pm2 logs monster_bot
```

### Binance Bot ì‹¤í–‰
```bash
cd ~/bitcoin-main/binance_bot

# ì‹¤í–‰
pm2 start ecosystem.config.js

# ë¡œê·¸ í™•ì¸
pm2 logs binance_bot
```

---

### 3. Web Dashboard ì‹¤í–‰ (New!)
ëŒ€ì‹œë³´ë“œë¥¼ ì„œë²„ì—ì„œ 24ì‹œê°„ ì¼œë‘ë ¤ë©´ ë‹¤ìŒ ì„¤ì •ì„ ë”°ë¥´ì„¸ìš”.

**1. AWS ë³´ì•ˆ ê·¸ë£¹ ì„¤ì • (í•„ìˆ˜)**
*   AWS ì½˜ì†” -> EC2 -> ë³´ì•ˆ ê·¸ë£¹ -> ì¸ë°”ìš´ë“œ ê·œì¹™ í¸ì§‘
*   **ê·œì¹™ ì¶”ê°€**:
    *   ìœ í˜•: `ì‚¬ìš©ì ì§€ì • TCP`
    *   í¬íŠ¸ ë²”ìœ„: `8501`
    *   ì†ŒìŠ¤: `Anywhere-IPv4` (0.0.0.0/0)

**2. ëŒ€ì‹œë³´ë“œ ì‹¤í–‰**
```bash
cd ~/bitcoin-main/MonsterBot
pm2 start "streamlit run dashboard.py --server.port 8501 --server.address 0.0.0.0" --name "dashboard"
```
ì´ì œ ì¸í„°ë„· ì£¼ì†Œì°½ì— `http://[ë‚´-EC2-IP]:8501` ì…ë ¥í•˜ë©´ ëŒ€ì‹œë³´ë“œê°€ ëœ¹ë‹ˆë‹¤!

---

## 5. ìœ ìš©í•œ ëª…ë ¹ì–´ (ì¹˜íŠ¸ì‹œíŠ¸)

| í–‰ë™ | ëª…ë ¹ì–´ |
| :--- | :--- |
| **í˜„ì¬ ìƒíƒœ í™•ì¸** | `pm2 status` |
| **ë´‡ ë¡œê·¸ ë³´ê¸°** | `pm2 logs` (ë‚˜ê°ˆ ë• `Ctrl + C`) |
| **ëª¨ë“  ë´‡ ì¬ì‹œì‘** | `pm2 restart all` |
| **íŠ¹ì • ë´‡ ì¬ì‹œì‘** | `pm2 restart monster_bot` |
| **ë´‡ ë„ê¸°** | `pm2 stop all` |

### ğŸš€ ì½”ë“œ ì—…ë°ì´íŠ¸ ë°©ë²•
ë¡œì»¬(ë‚´ ì»´í“¨í„°)ì—ì„œ ìˆ˜ì • í›„ `git push` í–ˆë‹¤ë©´, ì„œë²„ì—ì„œ ë‹¤ìŒì„ ì‹¤í–‰:

```bash
cd ~/bitcoin-main
git pull
pip3 install streamlit  # ëŒ€ì‹œë³´ë“œ ê¸°ëŠ¥ ì¶”ê°€ë¨
pm2 restart all
```
